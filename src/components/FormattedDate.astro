---
enum DateFormat {
  Long = 'long',
  Short = 'short'
}

interface Props {
  date: Date;
  format?: DateFormat;
}

const { date, format = DateFormat.Long } = Astro.props;

const parts = new Intl.DateTimeFormat('en-US', {
  year: format === DateFormat.Long ? 'numeric' : undefined,
  month: '2-digit',
  day: '2-digit'
}).formatToParts(date);

const formattedDate = parts
  .filter(part => part.type !== 'literal')
  .map(part => part.value)
  .join('Â·');
---

<time datetime={date.toISOString()}>
  {formattedDate}
</time>
