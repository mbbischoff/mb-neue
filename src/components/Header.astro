---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
import { SITE_TITLE_SHORT, navigation } from '../config';

interface Props {
	hideNav?: boolean;
	minimalLayout?: boolean;
}

const { minimalLayout = false } = Astro.props;
---

<header>
	<div class="nav-container">
		{!minimalLayout && (
			<nav class="internal-links">
				{navigation.map((item) => (
					<HeaderLink href={item.href} class="nav-link">{item.label}</HeaderLink>
				))}
			</nav>
		)}
	</div>
	<div class="border-container">
		<div class="nav-container">
			<div class="title-container">
				<h1 class={`site-title ${minimalLayout ? 'minimal' : ''}`}>
					<a href="/">{SITE_TITLE_SHORT}</a>
				</h1>

				{!minimalLayout && (
				<p class="site-description"><strong>mb bischoff</strong> makes <a href="https://lickability.com"><i class="fas fa-mobile-alt"></i> apps</a>, <a href="/archive"><i class="fas fa-pen"></i> posts</a>, & <a href="https://absolutelycrushed.com"><i class="fas fa-microphone"></i> podcasts</a>.</p>
				)}
			</div>
		</div>
	</div>
</header>

<style>
	header {
		padding: var(--space-xs) 0;
	}

	.nav-container {
		max-width: 800px;
		margin: 0 auto;
		padding: 0 var(--space-s);
	}

	.border-container {
		border-top: 1px solid var(--theme-tertiary);
		width: 100vw;
		position: relative;
		left: 50%;
		right: 50%;
		margin-left: -50vw;
		margin-right: -50vw;
	}

	.border-container .nav-container {
		padding: 0 var(--space-s);
	}

	.internal-links {
		display: flex;
		justify-content: space-between;
		width: 100%;
		margin-bottom: var(--space-s);
		font-size: 1.25rem;
	}

	.title-container {
		text-align: left;
		padding-top: var(--space-xs);
	}

	.site-title {
		font-size: 7rem;
		line-height: 1;
		margin: 0;
		font-weight: 600;
		letter-spacing: -0.03em;
		text-decoration: none;
	}

	.site-title.minimal {
		color: var(--theme-secondary);
	}

	.site-title a {
		text-decoration: none;
		color: inherit;
	}

	.site-description {
		margin: 0;
		font-size: 1.1rem;
	}

	.site-description a {
		color: var(--theme-accent);
		text-decoration: none;
		font-weight: bold;
	}

	.site-description a i {
		margin-right: -0.3em;
	}

	.site-description a:hover {
		color: var(--theme-secondary-hover);
		text-decoration: underline;
	}
</style>
